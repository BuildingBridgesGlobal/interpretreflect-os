(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{136:function(e,t,s){Promise.resolve().then(s.bind(s,6471))},6471:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var l=s(7437),a=s(2265),r=s(9376),n=s(3303),o=s(8901);function i(e){let{userData:t,preFillMessage:s,onMessageSent:r}=e,[n,o]=(0,a.useState)(""),[i,c]=(0,a.useState)([{role:"elya",content:"Hi! I'm Elya, your AI interpreter assistant. I can help you:\n\n• Prep for assignments (research, vocab, domain knowledge)\n• Debrief sessions and track growth\n• Analyze performance patterns\n• Build skills and practice\n• Track CEUs and credentials\n\nWhat would you like to work on?",timestamp:new Date}]),[d,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!1),h=(0,a.useRef)(null),b=(0,a.useRef)(null),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{{let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(e){u(!0);let t=new e;t.continuous=!0,t.interimResults=!0,t.lang="en-US",t.onresult=e=>{let t="";for(let s=e.resultIndex;s<e.results.length;s++){let l=e.results[s][0].transcript;e.results[s].isFinal&&(t+=l+" ")}t&&o(e=>e+t)},t.onerror=e=>{console.error("Speech recognition error:",e.error),x(!1)},t.onend=()=>{x(!1)},p.current=t}}return()=>{p.current&&p.current.stop()}},[]),(0,a.useEffect)(()=>{if(s){var e;o(s),null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{var e;null===(e=h.current)||void 0===e||e.focus()},500),null==r||r()}},[s,r]);let f=async()=>{if(!n.trim())return;let e={role:"user",content:n,timestamp:new Date};c(t=>[...t,e]),o("");let s={role:"elya",content:"Thinking...",timestamp:new Date};c(e=>[...e,s]);try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...i,e],userId:null==t?void 0:t.id})}),l=await s.json();if(!s.ok)throw Error(l.error||"Failed to get response");c(e=>[...e.slice(0,-1),{role:"elya",content:l.response,timestamp:new Date}])}catch(e){console.error("Error calling Elya:",e),c(e=>[...e.slice(0,-1),{role:"elya",content:"I'm having trouble connecting right now. Please try again in a moment.",timestamp:new Date}])}};return(0,l.jsx)("div",{className:"h-full flex flex-col",ref:b,children:(0,l.jsxs)("div",{className:"flex-1 rounded-2xl border border-slate-800 bg-slate-900/50 backdrop-blur-sm shadow-2xl overflow-hidden flex flex-col",children:[(0,l.jsx)("div",{className:"flex-1 px-6 py-5 overflow-y-auto",children:(0,l.jsx)("div",{className:"space-y-4",children:i.map((e,t)=>(0,l.jsxs)("div",{className:"flex gap-3 ".concat("user"===e.role?"justify-end":""),children:["elya"===e.role&&(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-400 to-purple-500 flex items-center justify-center flex-shrink-0 mt-1",children:(0,l.jsx)("span",{className:"text-sm font-semibold",children:"E"})}),(0,l.jsxs)("div",{className:"flex-1 max-w-2xl rounded-lg px-4 py-3 ".concat("elya"===e.role?"bg-violet-500/10 border border-violet-500/20 text-slate-200":"bg-teal-500/20 border border-teal-500/30 text-slate-100 ml-12"),children:[(0,l.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:e.timestamp.toLocaleTimeString()})]})]},t))})}),(0,l.jsxs)("div",{className:"px-6 py-4 bg-slate-950/50 border-t border-slate-800",children:[(0,l.jsxs)("div",{className:"mb-3 flex flex-wrap gap-2",children:[(0,l.jsx)("button",{onClick:()=>o("Help me prep for my next medical assignment"),className:"px-3 py-1.5 rounded-lg border border-teal-500/30 bg-teal-500/10 text-teal-300 text-xs hover:bg-teal-500/20 transition-colors",children:"Prep assignment"}),(0,l.jsx)("button",{onClick:()=>o("I want to debrief my last session"),className:"px-3 py-1.5 rounded-lg border border-violet-500/30 bg-violet-500/10 text-violet-300 text-xs hover:bg-violet-500/20 transition-colors",children:"Debrief session"}),(0,l.jsx)("button",{onClick:()=>o("Research medical terminology for cardiology"),className:"px-3 py-1.5 rounded-lg border border-blue-500/30 bg-blue-500/10 text-blue-300 text-xs hover:bg-blue-500/20 transition-colors",children:"Research vocab"}),(0,l.jsx)("button",{onClick:()=>o("What patterns do you see in my performance?"),className:"px-3 py-1.5 rounded-lg border border-amber-500/30 bg-amber-500/10 text-amber-300 text-xs hover:bg-amber-500/20 transition-colors",children:"Analyze patterns"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("input",{ref:h,type:"text",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:"Ask me to prep, debrief, research, or analyze...",className:"flex-1 px-4 py-3 rounded-lg border border-slate-700 bg-slate-900 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-400 focus:border-transparent"}),m&&(0,l.jsx)("button",{onClick:()=>{p.current&&(d?(p.current.stop(),x(!1)):(p.current.start(),x(!0)))},className:"px-4 py-3 rounded-lg border transition-colors ".concat(d?"bg-red-500/20 border-red-500 text-red-400 animate-pulse":"border-slate-700 bg-slate-800 text-slate-400 hover:bg-slate-700"),title:d?"Stop recording":"Start voice input",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})})}),(0,l.jsx)("button",{onClick:f,disabled:!n.trim(),className:"px-6 py-3 rounded-lg bg-violet-500 text-white font-semibold hover:bg-violet-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:m?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 inline mr-1",children:[(0,l.jsx)("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),(0,l.jsx)("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"})]}),"Type or tap the microphone to speak"]}):"Press Enter to send"})]})]})})}function c(e){let{isOpen:t,onClose:s}=e,[r,o]=(0,a.useState)("basic"),[i,c]=(0,a.useState)("monthly"),[d,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!1),[h,b]=(0,a.useState)("");if(!t)return null;let p=async()=>{try{var e;u(!0),b("");let{data:{user:t}}=await n.O.auth.getUser();if(!t){b("You must be logged in to upgrade");return}console.log("Querying billing_prices for:",{tier:r,cycle:i});let{data:s,error:l}=await n.O.from("billing_prices").select("*").eq("tier",r).eq("cycle",i).eq("is_active",!0).limit(1);if(console.log("Query result:",{prices:s,priceErr:l}),l){console.error("Database error:",l),b("Database error: ".concat(l.message));return}if(!s||0===s.length){console.error("No prices found for:",{tier:r,cycle:i}),b("No pricing found for ".concat(r," ").concat(i));return}let a=s[0],o=null===(e=(await n.O.auth.getSession()).data.session)||void 0===e?void 0:e.access_token,c=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({price_id:a.stripe_price_id,mode:"subscription",tier:r,cycle:i,apply_student_discount:d})});if(!c.ok){let e=await c.json();throw Error(e.error||"Failed to create checkout session")}let{url:x}=await c.json();x?window.location.href=x:b("No checkout URL returned")}catch(e){console.error("Upgrade error:",e),b(e.message||"Failed to start checkout")}finally{u(!1)}},f={basic:{monthly:12,yearly:120},pro:{monthly:25,yearly:250}},g=f[r][i],v="yearly"===i?"basic"===r?24:50:0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm z-40",onClick:s}),(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl max-w-2xl w-full p-6 md:p-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-slate-50",children:"Upgrade Your Plan"}),(0,l.jsx)("button",{onClick:s,className:"text-slate-400 hover:text-slate-200 transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Choose Your Plan"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("button",{onClick:()=>o("basic"),className:"p-4 rounded-lg border transition-all ".concat("basic"===r?"border-teal-400 bg-teal-500/10":"border-slate-700 bg-slate-800/50 hover:border-slate-600"),children:[(0,l.jsx)("div",{className:"text-lg font-semibold text-slate-50",children:"Basic"}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:"Essential tools"})]}),(0,l.jsxs)("button",{onClick:()=>o("pro"),className:"p-4 rounded-lg border transition-all ".concat("pro"===r?"border-teal-400 bg-teal-500/10":"border-slate-700 bg-slate-800/50 hover:border-slate-600"),children:[(0,l.jsx)("div",{className:"text-lg font-semibold text-slate-50",children:"Pro"}),(0,l.jsx)("div",{className:"text-sm text-slate-400",children:"Advanced features"})]})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Billing Cycle"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("button",{onClick:()=>c("monthly"),className:"p-4 rounded-lg border transition-all ".concat("monthly"===i?"border-teal-400 bg-teal-500/10":"border-slate-700 bg-slate-800/50 hover:border-slate-600"),children:[(0,l.jsx)("div",{className:"text-lg font-semibold text-slate-50",children:"Monthly"}),(0,l.jsxs)("div",{className:"text-sm text-slate-400",children:["$",f[r].monthly,"/mo"]})]}),(0,l.jsxs)("button",{onClick:()=>c("yearly"),className:"p-4 rounded-lg border transition-all relative ".concat("yearly"===i?"border-teal-400 bg-teal-500/10":"border-slate-700 bg-slate-800/50 hover:border-slate-600"),children:[(0,l.jsxs)("div",{className:"absolute -top-2 -right-2 bg-teal-400 text-slate-950 text-xs font-semibold px-2 py-1 rounded",children:["Save $",v]}),(0,l.jsx)("div",{className:"text-lg font-semibold text-slate-50",children:"Yearly"}),(0,l.jsxs)("div",{className:"text-sm text-slate-400",children:["$",f[r].yearly,"/yr"]})]})]})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-teal-400/50 transition-colors",children:[(0,l.jsx)("input",{type:"checkbox",checked:d,onChange:e=>x(e.target.checked),className:"w-5 h-5 rounded border-slate-600 bg-slate-700 text-teal-400 focus:ring-teal-400 focus:ring-offset-slate-900"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-slate-200",children:"I'm a student or new interpreter (first 2 years)"}),(0,l.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:"Get 50% off your subscription automatically"})]}),d&&(0,l.jsx)("span",{className:"text-xs font-semibold text-teal-400 bg-teal-400/10 px-2 py-1 rounded",children:"-50%"})]})}),h&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm",children:h}),(0,l.jsxs)("div",{className:"mb-6 p-4 bg-slate-800/50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-slate-300",children:"Plan:"}),(0,l.jsxs)("span",{className:"text-slate-50 font-semibold",children:["basic"===r?"Basic":"Pro"," (","monthly"===i?"Monthly":"Yearly",")"]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-slate-300",children:"Total:"}),(0,l.jsx)("div",{className:"text-right",children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-sm text-slate-400 line-through",children:["$",g]}),(0,l.jsxs)("div",{className:"text-2xl text-teal-400 font-bold",children:["$",g/2,"monthly"===i?"/mo":"/yr"]})]}):(0,l.jsxs)("span",{className:"text-2xl text-teal-400 font-bold",children:["$",g,"monthly"===i?"/mo":"/yr"]})})]}),d&&(0,l.jsx)("div",{className:"mt-2 text-xs text-teal-400",children:"Student discount (50% off) will be applied at checkout"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:s,className:"flex-1 px-4 py-3 border border-slate-700 rounded-lg text-slate-300 font-medium hover:bg-slate-800 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{onClick:p,disabled:m,className:"flex-1 px-4 py-3 bg-teal-400 rounded-lg text-slate-950 font-semibold hover:bg-teal-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Processing...":"Continue to Checkout"})]})]})})]})}function d(){let e=(0,r.useRouter)(),[t,s]=(0,a.useState)(!0),[d,x]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[h,b]=(0,a.useState)("");if((0,a.useEffect)(()=>{(async()=>{let{data:{session:t}}=await n.O.auth.getSession();if(!t){e.push("/signin");return}let{data:l}=await n.O.from("profiles").select("*").eq("id",t.user.id).single();x(l),s(!1)})()},[e]),t)return(0,l.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-slate-400",children:"Loading..."})});let p={title:"Medical Oncology Consult",type:"Medical",date:"Tuesday, 2:00 PM",prepStatus:"not_started"};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[(0,l.jsx)(o.Z,{}),(null==d?void 0:d.subscription_tier)==="trial"&&(0,l.jsx)("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-teal-500/10 via-blue-500/10 to-purple-500/10 border-b border-teal-500/30 backdrop-blur-lg",children:(0,l.jsx)("div",{className:"container mx-auto max-w-7xl px-4 md:px-6 py-3",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"text-xs text-teal-300 font-semibold",children:"FREE TRIAL"}),(0,l.jsx)("span",{className:"text-xs text-slate-400",children:(null==d?void 0:d.trial_ends_at)?"Ends ".concat(new Date(d.trial_ends_at).toLocaleDateString()):"All features unlocked"})]}),(0,l.jsx)("button",{onClick:()=>u(!0),className:"px-4 py-1.5 bg-teal-400 hover:bg-teal-300 text-slate-950 text-sm font-semibold rounded-lg transition-all",children:"Upgrade"})]})})}),(0,l.jsx)("div",{className:"container mx-auto max-w-7xl px-4 md:px-6 py-6",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 min-h-[calc(100vh-180px)]",children:[(0,l.jsxs)("div",{className:"flex-1 lg:w-[70%] flex flex-col",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-400 via-purple-500 to-violet-600 flex items-center justify-center shadow-xl shadow-violet-500/30 animate-pulse",children:(0,l.jsx)("span",{className:"text-2xl font-bold text-white",children:"E"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-purple-400",children:["Hi",(null==d?void 0:d.full_name)?", ".concat(d.full_name.split(" ")[0]):"","!"]}),(0,l.jsx)("p",{className:"text-sm text-slate-400",children:"I'm Elya, ready to help you prep, debrief, or practice"})]})]})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(i,{userData:d,preFillMessage:h,onMessageSent:()=>b("")})})]}),(0,l.jsxs)("div",{className:"lg:w-[30%] flex flex-col gap-4",children:[p&&(0,l.jsxs)("div",{className:"rounded-xl border border-violet-500/30 bg-gradient-to-br from-violet-500/10 to-transparent p-4 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs font-semibold text-violet-300 mb-1",children:"UP NEXT"}),(0,l.jsx)("p",{className:"text-xs text-slate-400",children:p.date})]}),(0,l.jsx)("span",{className:"px-2 py-1 rounded-md bg-violet-500/20 text-violet-300 text-xs font-semibold border border-violet-500/30",children:p.type})]}),(0,l.jsx)("h3",{className:"text-base font-bold text-slate-50 mb-3",children:p.title}),(0,l.jsx)("button",{onClick:()=>b("Help me prep for ".concat(p.title)),className:"w-full px-4 py-2.5 rounded-lg bg-violet-500 hover:bg-violet-400 text-white text-sm font-semibold transition-all shadow-lg shadow-violet-500/20",children:"Start Prep"})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-700/50 bg-slate-800/30 p-4",children:[(0,l.jsx)("h3",{className:"text-xs font-semibold text-slate-400 mb-3 uppercase tracking-wider",children:"Recent Sessions"}),(0,l.jsx)("div",{className:"space-y-2",children:[{title:"Legal Deposition",type:"Legal",date:"Jan 25",debriefed:!0},{title:"Medical Cardiology",type:"Medical",date:"Jan 22",debriefed:!1},{title:"Educational IEP",type:"Educational",date:"Jan 18",debriefed:!0}].map((e,t)=>(0,l.jsxs)("div",{className:"flex items-start justify-between gap-2 p-2 rounded-lg hover:bg-slate-700/30 transition-all group",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h4",{className:"text-sm font-semibold text-slate-100 truncate",children:e.title}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:e.date})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:e.debriefed?(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-emerald-500/20 text-emerald-400 text-xs border border-emerald-500/30",children:"✓"}):(0,l.jsx)("button",{onClick:()=>b("Help me debrief my ".concat(e.title," assignment")),className:"px-2 py-1 rounded-md bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 text-xs border border-amber-500/30 transition-all opacity-0 group-hover:opacity-100",children:"Debrief"})})]},t))})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-700/50 bg-slate-800/30 p-4",children:[(0,l.jsx)("h3",{className:"text-xs font-semibold text-slate-400 mb-3 uppercase tracking-wider",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("button",{onClick:()=>b("I want to practice interpreting"),className:"w-full px-3 py-2 rounded-lg border border-teal-500/30 bg-teal-500/10 text-teal-300 text-xs hover:bg-teal-500/20 transition-all text-left",children:"\uD83C\uDFAF Practice Mode"}),(0,l.jsx)("button",{onClick:()=>b("What patterns do you see in my performance?"),className:"w-full px-3 py-2 rounded-lg border border-blue-500/30 bg-blue-500/10 text-blue-300 text-xs hover:bg-blue-500/20 transition-all text-left",children:"\uD83D\uDCCA Analyze Patterns"}),(0,l.jsx)("button",{onClick:()=>window.location.href="/skills",className:"w-full px-3 py-2 rounded-lg border border-purple-500/30 bg-purple-500/10 text-purple-300 text-xs hover:bg-purple-500/20 transition-all text-left",children:"\uD83D\uDCAA Skills Training"}),(0,l.jsx)("button",{onClick:()=>window.location.href="/history",className:"w-full px-3 py-2 rounded-lg border border-slate-600/30 bg-slate-700/10 text-slate-300 text-xs hover:bg-slate-700/20 transition-all text-left",children:"\uD83D\uDCC8 View Stats & History"})]})]})]})]})}),(0,l.jsx)(c,{isOpen:m,onClose:()=>u(!1)})]})}},8901:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var l=s(7437),a=s(2265),r=s(7648),n=s(9376),o=s(3303);function i(){var e,t;let s=(0,n.useRouter)(),i=(0,n.usePathname)(),[c,d]=(0,a.useState)(null),[x,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(o.O){o.O.auth.getSession().then(e=>{var t;let{data:{session:s}}=e;d(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null)});let{data:{subscription:e}}=o.O.auth.onAuthStateChange((e,t)=>{var s;d(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null)});return()=>e.unsubscribe()}},[]);let u=async()=>{o.O&&(await o.O.auth.signOut(),s.push("/"))};return(0,l.jsx)("nav",{className:"border-b border-slate-800 bg-slate-950/80 backdrop-blur-sm sticky top-0 z-50",children:(0,l.jsx)("div",{className:"container mx-auto max-w-7xl px-4 md:px-6",children:(0,l.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,l.jsx)(r.default,{href:"/",className:"flex items-center gap-2",children:(0,l.jsxs)("span",{className:"text-xl font-semibold text-slate-50",children:["Interpret",(0,l.jsx)("span",{className:"text-teal-400",children:"Reflect"})]})}),c&&(0,l.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,l.jsx)(r.default,{href:"/dashboard",className:"text-sm font-medium transition-colors ".concat("/dashboard"===i?"text-teal-400":"text-slate-300 hover:text-teal-300"),children:"Dashboard"}),(0,l.jsx)(r.default,{href:"/skills",className:"text-sm font-medium transition-colors ".concat("/skills"===i?"text-teal-400":"text-slate-300 hover:text-teal-300"),children:"Skills"}),(0,l.jsx)(r.default,{href:"/community",className:"text-sm font-medium transition-colors ".concat("/community"===i?"text-teal-400":"text-slate-300 hover:text-teal-300"),children:"Community"}),(0,l.jsx)(r.default,{href:"/wellness",className:"text-sm font-medium transition-colors ".concat("/wellness"===i?"text-teal-400":"text-slate-300 hover:text-teal-300"),children:"Wellness"}),(0,l.jsx)(r.default,{href:"/history",className:"text-sm font-medium transition-colors ".concat("/history"===i?"text-teal-400":"text-slate-300 hover:text-teal-300"),children:"History"})]}),(0,l.jsx)("div",{className:"flex items-center gap-3",children:c?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{onClick:()=>m(!x),className:"flex items-center gap-2 rounded-lg border border-slate-700 px-4 py-2 text-sm font-medium text-slate-200 hover:border-teal-400/70 hover:text-teal-300 transition-colors",children:[(0,l.jsx)("span",{className:"max-w-[150px] truncate",children:(null===(e=c.user_metadata)||void 0===e?void 0:e.full_name)||(null===(t=c.email)||void 0===t?void 0:t.split("@")[0])||"Account"}),(0,l.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(x?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),(0,l.jsx)("div",{className:"absolute right-0 mt-2 w-48 rounded-lg border border-slate-700 bg-slate-900 shadow-xl z-20",children:(0,l.jsxs)("div",{className:"py-1",children:[(0,l.jsxs)(r.default,{href:"/settings",onClick:()=>m(!1),className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-200 hover:bg-slate-800 hover:text-teal-300 transition-colors",children:[(0,l.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),(0,l.jsxs)("button",{onClick:()=>{m(!1),u()},className:"flex items-center gap-2 w-full text-left px-4 py-2 text-sm text-slate-200 hover:bg-slate-800 hover:text-teal-300 transition-colors",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})})]})]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.default,{href:"/signin",className:"rounded-lg border border-slate-700 px-4 py-2 text-sm font-medium text-slate-200 hover:border-teal-400/70 hover:text-teal-300 transition-colors",children:"Sign In"}),(0,l.jsx)(r.default,{href:"/signup",className:"rounded-lg bg-teal-400 px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-teal-300 transition-colors",children:"Get Started"})]})})]})})})}},3303:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});let l=(0,s(2724).eI)("https://wjhdvjukspfgoojyloks.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqaGR2anVrc3BmZ29vanlsb2tzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyMjMwMzUsImV4cCI6MjA3OTc5OTAzNX0.FyAbwNNLik0NSdueHMfpWmPD7lyISxIN88b3h5Vp5dk",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token"}})}},function(e){e.O(0,[724,448,971,117,744],function(){return e(e.s=136)}),_N_E=e.O()}]);