(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{4988:function(e,t,s){Promise.resolve().then(s.bind(s,3937))},3937:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var l=s(7437),a=s(2265),r=s(9376),n=s(7648);function i(e){var t,s;let{data:a}=e,r=(null!==(t=null==a?void 0:a.week_load_score)&&void 0!==t?t:0)>=7,n=(null==a?void 0:a.primary_goal)==="burnout"?"Focus: Early burnout signals":(null==a?void 0:a.primary_goal)==="recovery"?"Focus: Recovery":(null==a?void 0:a.primary_goal)==="growth"?"Focus: Growth":(null==a?void 0:a.primary_goal)==="season"?"Focus: Season support":void 0;return(0,l.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/80 p-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-slate-50",children:"This is your starting point, not a grade."}),(0,l.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:r?"Your last week has been heavy. Let’s keep this OS gentle and doable.":"Your demand is currently in the manageable range. We’ll watch for drift and subtle shifts."}),(0,l.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n&&(0,l.jsx)("span",{className:"rounded-full bg-slate-800 px-3 py-1 text-[0.75rem] text-teal-300",children:n}),(null==a?void 0:a.role)&&(null==a?void 0:a.years_experience)&&(0,l.jsxs)("span",{className:"rounded-full bg-slate-800 px-3 py-1 text-[0.75rem] text-slate-300",children:[a.role," \xb7 ",a.years_experience]}),(null!==(s=null==a?void 0:a.settings)&&void 0!==s?s:[]).slice(0,3).map(e=>(0,l.jsx)("span",{className:"rounded-full bg-slate-800 px-3 py-1 text-[0.75rem] text-slate-300",children:e},e))]})]})}function d(e){let{seed:t}=e,s=[t-2,t,t+1,t+2,t-1,t,t-3].map(e=>Math.max(0,Math.min(10,e)));return(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,l.jsx)("p",{className:"text-[0.75rem] text-slate-300",children:"Performance & Demand"}),(0,l.jsx)("div",{className:"mt-3 h-28 rounded-xl bg-slate-950/90 px-3 py-2 flex items-end gap-1.5",children:s.map((e,t)=>(0,l.jsx)("div",{className:"flex-1 flex flex-col justify-end gap-1",children:(0,l.jsx)("div",{className:"w-full rounded-full bg-gradient-to-t from-teal-700 via-teal-400/70 to-teal-300",style:{height:"".concat(e/10*100,"%")}})},t))}),(0,l.jsx)("p",{className:"mt-2 text-[0.75rem] text-slate-400",children:"We’ll start plotting from today. For now, this is a rough estimate based on your last 7 days."})]})}function o(e){let{redFlag:t}=e;return(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,l.jsx)("p",{className:"text-[0.75rem] text-slate-300",children:"Burnout Drift"}),(0,l.jsx)("div",{className:"mt-3 h-24 rounded-xl bg-slate-950/90 px-3 py-2 flex items-end gap-1.5",children:[20,25,30,35,40,45].map((e,t)=>(0,l.jsx)("div",{className:"flex-1 rounded-full bg-gradient-to-t from-amber-900 via-amber-500/40 to-amber-300/80",style:{height:"".concat(e,"%")}},t))}),"yes"===t&&(0,l.jsx)("p",{className:"mt-2 text-[0.75rem] text-amber-300",children:"You’ve had “I can’t keep doing this like this” moments this week. That’s important, not dramatic."}),"yes"!==t&&(0,l.jsx)("p",{className:"mt-2 text-[0.75rem] text-slate-400",children:"Starting baseline"})]})}function c(e){let{domains:t}=e;return(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,l.jsx)("p",{className:"text-[0.75rem] text-slate-300",children:"Domains"}),(0,l.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[0===t.length&&(0,l.jsx)("p",{className:"text-sm text-slate-400",children:"Choose domains during onboarding to personalize this."}),t.map(e=>(0,l.jsx)("span",{className:"rounded-xl bg-slate-950/80 px-3 py-2 text-sm text-slate-200 border border-slate-800",children:e},e))]}),(0,l.jsx)("p",{className:"mt-2 text-[0.75rem] text-slate-400",children:"These are the domains we’ll watch. As you log debriefs, we’ll highlight where the real cost is."})]})}function u(){return(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[(0,l.jsx)("p",{className:"text-[0.75rem] text-slate-300",children:"Today’s Support Stack"}),(0,l.jsx)("div",{className:"mt-3 space-y-2",children:[{label:"Log today’s debrief",detail:"Capture one assignment."},{label:"Quick regulation check-in",detail:"90 seconds."},{label:"Save one affirmation",detail:"Use later today."}].map(e=>(0,l.jsxs)("div",{className:"flex items-start gap-3 rounded-xl bg-slate-950/80 px-3 py-2",children:[(0,l.jsx)("div",{className:"mt-1 inline-flex h-3 w-3 items-center justify-center rounded-full border border-teal-400",children:(0,l.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-teal-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-slate-100",children:e.label}),(0,l.jsx)("p",{className:"text-[0.75rem] text-slate-400",children:e.detail})]})]},e.label))})]})}function x(){return(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/80 p-6",children:[(0,l.jsx)("p",{className:"text-[0.75rem] uppercase tracking-[0.14em] text-slate-400",children:"Your first 3 actions"}),(0,l.jsx)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:[{title:"Log one assignment from the last 48 hours",cta:"Open debrief"},{title:"Choose your preferred check-in rhythm",cta:"Set check-ins"},{title:"Bookmark one grounding tool that works",cta:"Choose support"}].map(e=>(0,l.jsxs)("div",{className:"rounded-xl bg-slate-950/80 p-4 border border-slate-800",children:[(0,l.jsx)("p",{className:"text-sm text-slate-200",children:e.title}),(0,l.jsx)("button",{className:"mt-2 inline-flex items-center rounded-lg bg-teal-400 px-3 py-1.5 text-sm font-semibold text-slate-950 hover:bg-teal-300",children:e.cta})]},e.title))})]})}var m=s(4324),h=s(1137);function p(){var e,t;let s=(0,r.useRouter)(),m="1"===(0,r.useSearchParams)().get("firstRun"),[p,g]=(0,a.useState)(null),{user:b,signOut:f}=(0,h.a)();(0,a.useEffect)(()=>{let e=localStorage.getItem("ir_onboarding");if(e)try{g(JSON.parse(e))}catch(e){}},[]);let j=async()=>{await f(),s.push("/")},v=null!==(e=null==p?void 0:p.week_load_score)&&void 0!==e?e:5;return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-50",children:[(0,l.jsx)("header",{className:"border-b border-slate-800 px-4 py-3",children:(0,l.jsxs)("div",{className:"mx-auto flex max-w-6xl items-center justify-between",children:[(0,l.jsx)("span",{className:"text-lg font-bold text-teal-400",children:"InterpretReflect OS"}),(0,l.jsxs)("nav",{className:"flex items-center gap-4 text-sm text-slate-300",children:[(0,l.jsx)(n.default,{href:"/app",className:"text-teal-300",children:"Dashboard"}),(0,l.jsx)(n.default,{href:"/app/skills",className:"hover:text-teal-300",children:"Skills"}),(0,l.jsx)("span",{className:"text-slate-500",children:"|"}),(0,l.jsx)("span",{className:"text-slate-400 text-xs",children:null==b?void 0:b.email}),(0,l.jsx)("button",{onClick:j,className:"text-slate-400 hover:text-red-400 text-xs",children:"Sign out"})]})]})}),(0,l.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-8 space-y-6",children:[m&&(0,l.jsx)("div",{className:"rounded-xl bg-teal-900/30 border border-teal-700/50 px-4 py-3 text-sm text-teal-200",children:"Welcome! Your OS is now set up. Here's your personalized dashboard."}),(0,l.jsx)(i,{data:p}),m&&(0,l.jsx)(x,{}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsx)(d,{seed:v}),(0,l.jsx)(o,{}),(0,l.jsx)(c,{domains:null!==(t=null==p?void 0:p.settings)&&void 0!==t?t:[]}),(0,l.jsx)(u,{})]})]})]})}function g(){return(0,l.jsx)(m.i,{children:(0,l.jsx)(p,{})})}},1137:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return d}});var l=s(7437),a=s(2265),r=s(3303);let n=(0,a.createContext)({user:null,session:null,loading:!0,signOut:async()=>{}});function i(e){let{children:t}=e,[s,i]=(0,a.useState)(null),[d,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(!r.O){u(!1);return}r.O.auth.getSession().then(e=>{var t;let{data:{session:s}}=e;o(s),i(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null),u(!1)});let{data:{subscription:e}}=r.O.auth.onAuthStateChange((e,t)=>{var s;o(t),i(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),u(!1)});return()=>e.unsubscribe()},[]);let x=async()=>{r.O&&(await r.O.auth.signOut(),i(null),o(null))};return(0,l.jsx)(n.Provider,{value:{user:s,session:d,loading:c,signOut:x},children:t})}let d=()=>(0,a.useContext)(n)},4324:function(e,t,s){"use strict";s.d(t,{i:function(){return i}});var l=s(7437),a=s(2265),r=s(9376),n=s(1137);function i(e){let{children:t}=e,{user:s,loading:i}=(0,n.a)(),d=(0,r.useRouter)();return((0,a.useEffect)(()=>{i||s||d.push("/login")},[s,i,d]),i)?(0,l.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):s?(0,l.jsx)(l.Fragment,{children:t}):null}},3303:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});let l=(0,s(2724).eI)("https://wjhdvjukspfgoojyloks.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqaGR2anVrc3BmZ29vanlsb2tzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyMjMwMzUsImV4cCI6MjA3OTc5OTAzNX0.FyAbwNNLik0NSdueHMfpWmPD7lyISxIN88b3h5Vp5dk",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token"}})}},function(e){e.O(0,[724,448,971,117,744],function(){return e(e.s=4988)}),_N_E=e.O()}]);